@import views.support.PageInfo
@import com.gu.i18n.CountryGroup

@import com.gu.memsub.Current
@import configuration.Videos
@import com.gu.memsub.Benefit
@import views.support.Asset
@import com.gu.memsub.subsv2.PaidMembershipPlans
@import views.support.MembershipCompat._

@import com.gu.memsub.subsv2.CatalogPlan
@(heroImage: model.OrientatedImages, supporterPlans: PaidMembershipPlans[Benefit.Supporter.type],
  pageInfo: PageInfo,
  pageImages: Seq[com.gu.memsub.images.ResponsiveImageGroup])(implicit token: play.filters.csrf.CSRF.Token, countryGroup: CountryGroup)

@main("Supporters", pageInfo=pageInfo, countryGroup=Some(countryGroup)) {
    @* ===== About Supporters ===== *@
    @fragments.page.heroBanner(heroImage) {
        Become a Guardian&nbsp;Supporter
    } {
        Supporters keep our journalism fearless and free to tell the stories other news organisations won’t
    }()


    @fragments.page.section(hasBorder = false) {
        @fragments.tier.packagePromoSupporter(supporterPlans, countryGroup, "Top Button")
    }

    @* ===== Support open, independent journalism ===== *@
    @fragments.page.section("Support independent journalism", isNarrow = false, hasBottomPadding = false) {
        <div class="video-preview video-preview--plain">
            <div class="video-preview__video">
            @fragments.media.videoPlayer(Videos.supporters)
            </div>
            <div class="video-preview__header">
                @fragments.inlineIcon("video", List("icon-inline--scale"))
                Watch our journalists explain why the Guardian’s unique approach to journalism is worth defending.
            </div>
        </div>
    }
    @* ===== Ensuring our independence ===== *@
    @for(img <- pageImages.find(_.name.contains("fearless"))) {
        @fragments.page.sectionCardStack(img) {
            <div class="listing__text">
                <p>For 200 years, the Guardian has been fearless and independent.</p>
                <p>
                    Our journalism shines a light on critical, under-reported stories across the globe
                    and we have become the world’s most read, serious English-language newspaper,
                    visited by 130 million unique browsers each month.
                </p>
                <p>By becoming a Member, your financial contribution will support our independence and our award-winning journalism.</p>
                <p>
                    <a class="action" data-metric-trigger="click"
                                      data-metric-category="Supporter Landing Page @countryGroup.id"
                                      data-metric-action="cta click"
                                      data-metric-label="Middle Button"
                                      href="@{routes.Joiner.enterPaidDetails(supporterPlans.tier)}?countryGroup=@countryGroup.id"
                                      >Become a Supporter</a>
                </p>
            </div>
        }
    }
    @* ===== Join The Guardian and support The Guardian ===== *@
    @fragments.page.section("If you read the Guardian, join the Guardian",contentHasTopPadding = false) {
        @fragments.promos.promoQuote(
            Asset.at("images/common/polly-toynbee-cutout.png"),
            "Polly Toynbee, Guardian columnist"
        ) {
            <blockquote class="blockquote">
                You matter to us not just for your support, but because we gain from your insight too. Through the conversations we are having with members, we can challenge conventional wisdoms together.
                <cite class="blockquote__citation">Polly Toynbee, Guardian columnist</cite>
            </blockquote>
        }
    }

    @* ===== Join Today ===== *@
    @fragments.page.section("What's included") {
        @fragments.tier.packagePromoSupporter(supporterPlans, countryGroup, "Bottom Button")
    }
}
