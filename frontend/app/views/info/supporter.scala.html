@import views.support.PageInfo
@import com.gu.i18n.CountryGroup
@import views.support.PaidPlans
@import com.gu.membership.PaidMembershipPlans
@import com.gu.salesforce.Tier.Supporter
@import com.gu.memsub.Current
@import com.gu.salesforce.Tier
@import configuration.Videos

@(supporterPlans: PaidMembershipPlans[Current, Supporter],
  pageInfo: PageInfo,
  pageImages: Seq[model.ResponsiveImageGroup])(implicit token: play.filters.csrf.CSRF.Token, countryGroup: CountryGroup)

@main("Supporters", pageInfo=pageInfo) {
    @* ===== About Supporters ===== *@
    @for(img <- pageImages.find(_.name.contains("intro"))) {
        <div class="page-slice l-constrained">
            @fragments.promos.promoPrimary(title="Introducing Supporter Membership", img=img, showImageCaption=true, isLead=true, toneClass=Some("tone-trans-white")) {
                <div class="text-feature">
                    <p>
                        Supporters keep our journalism fearless and free from interference.
                    </p>
                </div>
                @fragments.tier.packagePromo(PaidPlans(supporterPlans), countryGroup, showDescription=false, modifierClass=Some("package-promo--spread"))
            }
        </div>
    }

    @* ===== Support open, independent journalism ===== *@
    <div id="supporter-video" class="page-slice page-slice--slim l-constrained">
        @fragments.promos.promoVideoSecondary(
            "Support independent journalism",
            video=Videos.supporters,
            toneClass=Some("tone-trans-brand-supporting-2")){
            <div class="text-feature">
                <p>Watch our journalists explain why the Guardian’s unique approach to journalism is worth defending.</p>
            </div>
        }
    </div>

    @* ===== Ensuring our independence ===== *@
    @for(img <- pageImages.find(_.name.contains("fearless"))) {
        <div class="page-slice l-constrained">
            @fragments.promos.promoPrimary(title="Fearless, progressive and free from interference", img=img, toneClass=Some("tone-trans-white")) {
                <div class="text-feature">
                    <p>For 200 years, the Guardian has been fearless and independent.</p>
                    <p>
                        Our journalism shines a light on critical, under-reported stories across the globe
                        and we have become the world’s most read, serious English-language newspaper,
                        visited by 130 million unique browsers each month.
                    </p>
                    <p>By becoming a Member, your financial contribution will support our independence and our award-winning journalism.</p>
                </div>
                <div class="action-group">
                    <a class="action" href="@routes.Joiner.enterPaidDetails(Tier.supporter)">Become a Supporter</a>
                </div>
            }
        </div>
    }

    @* ===== Join The Guardian and support The Guardian ===== *@
    @for(img <- pageImages.find(_.name.contains("join"))) {
        <div class="page-slice page-slice--slim l-constrained">
        @fragments.promos.promoSecondary(Html("If you read the Guardian, join the Guardian"), img=img, showImageCaption=true, toneClass=Some("tone-trans-brand-supporting-1")) {
            <blockquote class="blockquote blockquote--feature">
                You matter to us not just for your support, but because we gain from your insight too. Through the conversations we are having with members, we can challenge conventional wisdoms together.
            </blockquote>
        }
        </div>
    }

    @* ===== Join Today ===== *@
    <div class="page-slice tone-tint" id="whats-included">
        <div class="l-constrained">
            <h2 class="page-slice__headline">What's included</h2>
            <div class="page-slice__content">
                @fragments.tier.packageFeature(PaidPlans(supporterPlans), countryGroup, isReversed=true)
            </div>
        </div>
    </div>
}
